{% extends '::base.html.twig' %}
{% block placeholder -%}
<div class="row">
    <div class="col-lg-12">
        
        <div class="clearfix">
            <h1 class="pull-left">Agregar cliente</h1>
           
        </div>
    </div>
</div>
{% endblock -%}
{% block body -%}
<div class="row">
<div class="col-lg-12">
<div class="main-box no-header clearfix">
<div class="main-box-body clearfix">

    <h1 class="text-center"><strong>Referencias Personales </strong> </h1>

    {{ form_start(form) }}

    <div class="col-md-12">REFERENCIA FAMILIAR</div>
    <ul  id="referenciaFamiliar" data-prototype="{{ form_widget(form.referenciaFamiliar.vars.prototype) | e }}">
        {% for Referencia_Personal1 in form.referenciaFamiliar %}
        <div class="col-md-12">
            {{ form_errors(Referencia_Personal1) }}
            {{ form_widget(Referencia_Personal1) }}
        </div> 
        {% endfor %}
    </ul>    
    <a href="#" class="col-md-4 col-md-offset-4 btn btn-info pull-left" id="add-Referencia_Personal1">Agregar Referencia Familiar</a>  
     <div class="col-md-12">REFERENCIA </div>
    <ul  id="referenciaVecinal" data-prototype="{{ form_widget(form.referenciaVecinal.vars.prototype) | e }}">
        {% for Referencia_Personal2 in form.referenciaVecinal %}
        <div class="col-md-12">
            {{ form_errors(Referencia_Personal2) }}
            {{ form_widget(Referencia_Personal2) }}
        </div> 
        {% endfor %}
    </ul>    
    <a href="#" class="col-md-4 col-md-offset-4 btn btn-info pull-left" id="add-Referencia_Personal2">Agregar Referencia</a>  
    <div class="col-md-12">SALUD E HIGIENE</div>
    <ul  id="saludHigiene" data-prototype="{{ form_widget(form.saludHigiene.vars.prototype) | e }}">
        {% for Referencia_Personal3 in form.saludHigiene %}
        <div class="col-md-12">
            {{ form_errors(Referencia_Personal3) }}
            {{ form_widget(Referencia_Personal3) }}
        </div> 
        {% endfor %}
    </ul>    
    <a href="#" class="col-md-4 col-md-offset-4 btn btn-info pull-left" id="add-Referencia_Personal3">Agregar Padecimientos</a>    
    <div class="col-md-12">DESARROLLO Y PASATIEMPOS</div>
    <ul  id="pasatiempos" data-prototype="{{ form_widget(form.pasatiempos.vars.prototype) | e }}">
        {% for Referencia_Personal4 in form.pasatiempos %}
        <div class="col-md-12">
            {{ form_errors(Referencia_Personal4) }}
            {{ form_widget(Referencia_Personal4) }}
        </div> 
        {% endfor %}
    </ul>    
    <a href="#" class="col-md-4 col-md-offset-4 btn btn-info pull-left" id="add-Referencia_Personal4">Agregar Pasatiempo</a>
    {{ form_end(form) }}
 </div>
</div>
</div>
{% endblock %}
{% block js %}
     <script>

     var emailCount = '{{ form.referenciaFamiliar | length }}';
     var emailCount1 = '{{ form.referenciaVecinal | length }}';
     var emailCount2 = '{{ form.saludHigiene | length }}';
     var emailCount3 = '{{ form.pasatiempos | length }}';
     $('div.col-lg-6:nth-child(13)').hide()
     $('div.col-lg-6:nth-child(14)').hide()
     $('div.col-lg-6:nth-child(15)').hide()
     $('div.col-lg-6:nth-child(16)').hide()

    jQuery(document).ready(function() {
        jQuery('#add-Referencia_Personal1').click(function() {
            var emailList = jQuery('#referenciaFamiliar');

            // graba la plantilla prototipo
            var newWidget = emailList.attr('data-prototype');
            // sustituye el "__name__" usado en el id y name del prototipo con un
            // número que es único en tus correos termina con el
            // atributo name viéndose como name="contact[emails][2]"
            newWidget = newWidget.replace(/__name__/g, emailCount);
            emailCount++;
            // crea un nuevo elemento lista y lo añade a la lista
            var newLi = jQuery('<div></div>').html(newWidget);
            newLi.appendTo(jQuery('#referenciaFamiliar'));

            return false;
        });


        jQuery('#add-Referencia_Personal2').click(function() {
            var emailList1 = jQuery('#referenciaVecinal');

            // graba la plantilla prototipo
            var newWidget1 = emailList1.attr('data-prototype');
            // sustituye el "__name__" usado en el id y name del prototipo con un
            // número que es único en tus correos termina con el
            // atributo name viéndose como name="contact[emails][2]"
            newWidget1 = newWidget1.replace(/__name__/g, emailCount1);
            emailCount1++;
            // crea un nuevo elemento lista y lo añade a la lista
            var newLi1 = jQuery('<div></div>').html(newWidget1);
            newLi1.appendTo(jQuery('#referenciaVecinal'));

            return false;
        });



        jQuery('#add-Referencia_Personal3').click(function() {
            var emailList2 = jQuery('#saludHigiene');

            // graba la plantilla prototipo
            var newWidget2 = emailList2.attr('data-prototype');
            // sustituye el "__name__" usado en el id y name del prototipo con un
            // número que es único en tus correos termina con el
            // atributo name viéndose como name="contact[emails][2]"
            newWidget2 = newWidget2.replace(/__name__/g, emailCount2);
            emailCount2++;
            // crea un nuevo elemento lista y lo añade a la lista
            var newLi2 = jQuery('<div></div>').html(newWidget2);
            newLi2.appendTo(jQuery('#saludHigiene'));

            return false;
        });



        jQuery('#add-Referencia_Personal4').click(function() {
            var emailList3 = jQuery('#pasatiempos');

            // graba la plantilla prototipo
            var newWidget3 = emailList3.attr('data-prototype');
            // sustituye el "__name__" usado en el id y name del prototipo con un
            // número que es único en tus correos termina con el
            // atributo name viéndose como name="contact[emails][2]"
            newWidget3 = newWidget3.replace(/__name__/g, emailCount3);
            emailCount3++;
            // crea un nuevo elemento lista y lo añade a la lista
            var newLi3 = jQuery('<div></div>').html(newWidget3);
            newLi3.appendTo(jQuery('#pasatiempos'));

            return false;
        });
      })
  </script>
{% endblock %}
